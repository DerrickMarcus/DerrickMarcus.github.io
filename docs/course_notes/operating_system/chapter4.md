# 第四讲 线程及其实现

## 1. 线程的基本概念

**进程**是资源分配的单位，并发执行的进程不宜过多。**线程(thread)**是进程中能够独立执行的实体，是 CPU 调度的单位。

每个线程有自己的栈：函数调用时传递参数，保存返回地址，存放局部变量。

线程控制块(TCB, Thread Control Block)是标志线程存在的数据结构，包含系统对线程进行管理所需要的全部信息。包含内容：
线程标识、线程状态、调度参数、CPU 现场信息。其中，CPU 现场信息主要包括通用寄存器、指令计数器 PC 以及用户栈指针。OS 内核支持的线程的 TCB 中还包含系统栈指针。TCB 可能属于操作系统空间或用户进程空间，取决于线程的实现方式。

## 2. 线程的实现机制

### 2.1 用户级线程

### 2.2 内核级线程

### 2.3 混合实现

## 3. Linux 和 Windows 的线程
