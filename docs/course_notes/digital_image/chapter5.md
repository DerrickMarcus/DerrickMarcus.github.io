---
comments: true
---

# 第五章 图像分割

## 5.1 边缘检测和边缘连接

一阶梯度算子：Robert 算子，Sobel 算子。

二阶梯度算子：Laplace 算子。

Canny 边缘检测算子：高斯滤波平滑，计算梯度的幅值图像和角度图像，对梯度幅值进行非极大值抑制(NMS)，细化边缘，双阈值算法检测和连接边缘。

Hough 变换（霍夫变换），用于检测直线，经过一个点 $(x_i,y_i)$ 的直线对应参数空间的一个点 $(a,b)$ ，x-y 平面内一条直线上所有点，在参数空间中都经过同一点 $(a,b)$ ，根据此原理检测直线。

随机抽样一致(RANSAC)，可用于拟合含有噪声数据集的模型。可应用于图像拼接。

1. 随机选择点作为 inliners 子集。
2. 基于 inliners 子集进行模型拟合。
3. 计算其他点与现有模型的错误率。
4. 选择符合模型的点加入 inliners 子集。
5. 重复步骤1-4，得到多个模型，选择最优的。

## 5.2 阈值处理

迭代确定阈值法。

大津算法（最大类间方差法）。

自适应阈值算法，划分子图像，不同子图像使用不同阈值。重点在划分图像，可以与大津算法结合使用。

## 5.3 基于区域的分割

区域生长法。

区域拆分-合并法。

四叉树分割方法，是一种区域拆分-合并法。

分水岭算法。从局部极低点开始注水淹没，在不同水源汇聚处设置水坝（即分水岭），则图像将被分水岭划分为多个集水区域。最后的分水岭即为图像的分割线。

改进——基于标记的分水岭算法。

MSER 算法，最大稳定极值区域（Maximally Stable Extremal Regions），是一种图像分割算法，基于分水岭的思想对图像进行特征区域检测，特别适用于检测图像中的稳定区域（如文字、斑点等）。

MSER 算法对灰度图像进行量化处理，阈值从0到255依次递增，类似于形态学中的膨胀操作。最低点首先被淹没，随着水面的上升逐渐淹没整个山谷，直到所有的点全部被淹没。在不同阈值下，如果某些连通区域不变或变化很小，则该区域称为最大稳定极值区域。

超像素分割。超像素是具有相似纹理、颜色、亮度等特征的相邻像素构成的有一定视觉意义的不规则像素块。超像素分割利用像素之间特征的相似性将像素分组，用少量的超像素代替大量的像素来表达图片特征。

超像素生成算法，可以基于梯度下降法：SLIC(Simple Linear Iterative Clustering)将彩色图像转化为 CIELAB 颜色空间和XY坐标下的5维特征向量，然后对5维特征向量构造距离度量标准，对图像像素进行局部聚类。该算法速度较快，能生成紧凑、近似均匀的超像素。

## 5.4 数学形态学在图像分割的应用

腐蚀：求局部最小值的操作。腐蚀操作会使图像中的高亮区域逐渐减小。作用：腐蚀结果是把临近背景的目标像素值置为背景来达到缩小目标面积的作用。**结构元B全部位于A中时的子图像**。

膨胀：求局部最大值的操作。膨胀操作会使图像中的高亮区逐渐增长。作用：膨胀结果是把邻接背景的背景像素值置为目标来达到增加目标面积的作用。**结构元B与A有相交时的子图像**。

开运算：先腐蚀后膨胀。开的结果是A的子集。开运算可以滤除比结构元素小的突刺，切断细长搭接而起到分离作用。

闭运算：先膨胀后腐蚀。A是闭运算结果的子集。闭运算可以把比结构元素小的缺口或孔填充上，搭接短的间断而起到连通作用。

顶帽运算：从给定图像中提取明亮的小元素和细节的操作。A对B顶帽的操作为A与A和B开运算之后图像的差。作用：从给定的图像中提取较小的元素和细节，并且比周围环境更亮。

黑帽运算：从给定图像中提取暗的小元素和细节并变明亮的操作。A对B黑帽的操作为A和B闭运算与A的差。作用：从给定的图像中提取较小的元素和细节，并且比周围环境更暗，提取后的细节变得明亮。

## 5.5 基于显著性区域的图像分割方法

显著性区域(salient region)。

HC(Histogram Contrast)算法：选择合适的阈值将显著性图二值化得到分割结果。

RC(Region Contrast)算法是对HC方法的改进，思想：在颜色对比度的基础上引入空间位置作为权重。

## 补充1 伪彩色增强

对原来灰度图象中不同灰度值的区域赋予不同的彩色以更明显地区分他们。

方法：

(1) 亮度分层切割

优点：简单易行；便于计算及软硬件实现。

缺点：彩色生硬；不够调和；量化噪声较大。

(2) 伪彩色变换映射。不同于亮度分层方法，该方法对输入的像素灰度级，进行3个独立的变换。变换结果，构成 RGB 的3个值，由
此合成显示一幅彩色图像。此方法获得的彩色内容，受变换函数的特性所调制，可显示出不同的色彩。

伪彩色变换映射与亮度切割分层的关系：

1. 亮度切割方法利用线性分段函数从灰度到彩色进行变换。
2. 伪彩色变换映射方法可以使用光滑的、非线性的变换函数。
3. 亮度切割分层法可以看成伪彩色变换映射的特例。

(3) 频域滤波。见图片：

## 补充2 全彩色图像增强

处理策略：（对于线性独立操作，两种方法处理结果相同）

1. 分别处理彩色图像的每一个分量，然后合成。
2. 将彩色像素看作向量，直接对彩色向量处理。

单分量变换增强：

1. 将 RGB 分量图转换为 HSI 分量图。
2. 使用灰度图增强方法，增强其中某一个分量。
3. 结果再转换为 RGB 分量图。

彩色分层增强：突出图像中特殊的彩色区域。不能采用各通道灰度切分增强的方法，因为彩色像素为 n 维向量。

基本处理方法：显示感兴趣的颜色，以利从背景分离。像模板一样，使用由彩色定义的区域。

见图片：

![第十周课件上课_20](https://cdn.jsdelivr.net/gh/DerrickMarcus/picgo_image/images/第十周课件上课_20.png)
